---
layout: post
title:  "Party like it's 1989"
date:   2014-11-14
comments: true
---

Tswift's new album 1989 is blasting on the stereo so that can only mean one thing: time to write some code. Also, this morning there was a woman in the bathroom aerosol spraying her bangs higher than the sun. It really is 1989.

Things that have happened since I started running cd-hit:

* I drank 9 pots of coffee
* I bought Tswift's new album
* We landed on a comet

While cd-hit is running I wrote a quick and dirty script to de-replicate a fasta file. It's a little different than what cd-hit does, obviously, but it will still get us on the right track for merging the assemblies. When cd-hit finishes I'll do the merging again and we can compare the two merged assemblies to see if cd-hit really makes a difference. Let's back up though and review what's going on.

I'm trying to merge the k=31 and k=33 assemblies. This is a pretty straight forward process. First, simply cat the two contig files. We don't need or want multiple copies of identical contigs so this is where the de-replication comes in. This is a little script I wrote to remove identical contigs and also rename them just to be sure there's no naming conflict. Writing and running the script took a total of 7 minutes and cd-hit is currently on hour 70. Just something to keep in mind.

{% gist 7aa94126978079fd1a68 %}

I've now removed the duplicate contigs. The next step is to "assemble" the contigs. To do this, I'm going to use a program called [minimus2](http://amos.sourceforge.net/wiki/index.php/Minimus2). As you might have guessed minumus2 is a version of minimus designed to merge two sets of sequences. Going further down the rabbit hole of strangely named programs, minimus uses NUCmer to detect overlaps. NUCmer is part of [MUMmer](http://mummer.sourceforge.net/) (I promise I'm not making these up) and uses a suffix-tree algorithm to align sequences[^1]. It was originally designed to align genomes but we're using it here to align contigs.

[^1]: http://mummer.sourceforge.net/MUMmer2.pdf

Minimus takes a little while to run so I'll let it go over the weekend. While you wait, please enjoy this:

<iframe frameborder="0" width="480" height="270" src="//www.dailymotion.com/embed/video/x29l0j5" allowfullscreen></iframe><br /><a href="http://www.dailymotion.com/video/x29l0j5_shake-it-off-1989-aerobic-workout-edition_fun" target="_blank">Shake It Off - 1989 Aerobic Workout Edition</a> <i>by <a href="http://www.dailymotion.com/e-mob" target="_blank">e-mob</a></i>
